<section class="top_section p-2">
  <div class="container-fluid">
    <div class="row align-items-center">
      <div class="col-md-5">
        <%= image_tag('logo.jpg', class: 'img-fluid') %>
      </div>
      <div class="col-md-7 line">
        <div class="d-block">
          <p class="mb-0 text-center my-2 fs-3 text-white">
            START A NEW ROUTE
          </p>
          <div class="d-flex mt-2">
            <div style="width: 85%;">
              <div class="d-flex align-items-center">
                <p class="start_txt">Start</p>
                <span class="depot_text">Depot</span>
                <input type="text" class="form-control" id="exampleInputEmail1" />
                <span class="find_txt">Find</span>
              </div>
              <div class="d-flex align-items-center mt-2">
                <p class="start_txt">End</p>
                <span class="depot_text">Depot</span>
                <input type="text" class="form-control" id="exampleInputEmail1" />
                <span class="find_txt">Find</span>
              </div>
            </div>
            <div style="width: 15%;" class="">
              <button class="btn begin_btn" type="button">BEGIN</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<section class="rounte_section p-2">
<div class="container-fluid">
  <div class="row">
    <div id="map" style="height: 400px;", class="col-md-8"></div>
    <div class="col-md-4 p-0  bg-white position-relative">
      <div class="">
        <h2>ROUTE DIRECTIONS</h2>
        <P style="height:200px;">
        </P>
        <h3 class="mb-0">Build job Sheet</h3>
      </div>
    </div>
  </div>
</div>
</section>


    <script>
      document.addEventListener('DOMContentLoaded', function() {
        var map = L.map('map');
        var locations = [];
  
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
          attribution: '&copy; OpenStreetMap contributors'
        }).addTo(map);
        <% @locations.each do |location| %>
          var marker = L.marker([<%= location[:latitude] %>, <%= location[:longitude] %>])
            .addTo(map)
            .bindPopup('<%= location[:region] %>'); // customize the popup content
  
          locations.push(marker.getLatLng());
        <% end %>
  
        // Fit the map bounds to include all markers
        if (locations.length > 0) {
          map.fitBounds(L.latLngBounds(locations));
        } else {
          // Fallback center if no markers are available
          map.setView([51.505, -0.09], 13);
        }
      });
    </script>